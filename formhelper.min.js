(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof define==="function"&&define.amd?define(t):(e=e||self,e.FormHelper=t())})(this,function(){"use strict";function t(e){if(!(this instanceof t))return new t(e);this.form=typeof e==="string"?document.querySelector(e):(typeof HTMLElement==="object"?e instanceof HTMLElement:e&&typeof e==="object"&&e.nodeType===1&&typeof e.nodeName==="string")?e:null}t.prototype={constructor:t,clearForm:function(){var e=this.form.querySelectorAll("select");var t=this.form.querySelectorAll("textarea");var r=this.form.querySelectorAll("input");e.forEach(function(e){e.value=""});t.forEach(function(e){e.value=""});r.forEach(function(e){var t=e.getAttribute("type");switch(t){case"radio":case"checkbox":e.checked=false;break;case"color":e.value="#000000";break;case"image":e.removeAttribute("value");e.removeAttribute("src");break;case"button":case"submit":case"reset":break;default:e.value="";break}});return this},resetForm:function(){try{this.form.reset()}catch(e){console.log("请检查表单内是否含有'reset'字段名或其它可能错误!")}return this},setData:function(a){if(!a){return this}if(typeof a!=="object"){if(typeof a==="string"){try{a=JSON.parse(a)}catch(e){a={}}}else{a={}}}var e=this.form.querySelectorAll("select");var t=this.form.querySelectorAll("textarea");var r=this.form.querySelectorAll("input");var c="";e.forEach(function(e){c=e.getAttribute("name");if(c&&c in a){e.value=a[c]}else{e.value=""}});t.forEach(function(e){c=e.getAttribute("name");if(c&&c in a){e.value=a[c]}else{e.value=""}});r.forEach(function(t){var e=t.getAttribute("type");switch(e){case"radio":c=t.getAttribute("name");if(c&&c in a){t.checked=a[c]===t.value?true:false}else{t.checked=false}break;case"checkbox":c=t.getAttribute("name");if(c&&c in a){var r=a[c].split(",");t.checked=r.some(function(e){return e===t.value})?true:false}else{t.checked=false}break;case"image":c=t.getAttribute("name");if(c&&c in a){t.value=a[c];t.src=a[c]}else{t.value="";t.src=""}break;case"file":case"button":case"submit":case"reset":break;default:c=t.getAttribute("name");if(c&&c in a){t.value=a[c]}else{t.value=""}break}});return this},getData:function(){var e=this.form.querySelectorAll("[name]");var c={};e.forEach(function(e){var t=e.getAttribute("name");var r=e.tagName;switch(r){case"INPUT":var a=e.getAttribute("type");switch(a){case"radio":if(!(t in c)){c[t]=""}if(e.checked){c[t]=e.value}break;case"checkbox":if(!(t in c)){c[t]=new Array}if(e.checked){c[t].push(e.value)}break;case"button":case"submit":case"reset":break;default:c[t]=e.value;break}break;default:c[t]=e.value;break}});for(var t in c){if(Array.isArray(c[t])){c[t]=c[t].join(",")}}return c},getFormData:function(){return new FormData(this.form)}};return t});